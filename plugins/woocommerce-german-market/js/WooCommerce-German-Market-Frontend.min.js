var gm_hide_ship_to_different_address=!1;jQuery(document).ready(function(e){var i={init:function(){this.remove_totals(),this.register_payment_update(),this.on_update_variation(),this.sepa_direct_debit(),this.sepa_direct_debit_checkout_form_handle(),this.second_checkout_place_order(),this.deactivate_ship_to_different_adress(),this.deactivate_ship_to_different_address_purchase_on_account(),this.shipping_service_provider(),this.product_review_info()},product_review_info:function(){"on"===german_market_legal_info_product_reviews.activated&&e(german_market_legal_info_product_reviews.element).length&&jQuery.post(sepa_ajax_object.ajax_url,{action:"product_review_info"},function(i){e(i).insertBefore(german_market_legal_info_product_reviews.element)}),e(".german-market-legal-information-for-product-reviews.short-after-star-rating").click(function(i){i.preventDefault();var t=e(this).find(".full-text");e(t).is(":visible")?e(t).hide():e(t).show()}),e(document).mouseup(function(i){var t=e(".german-market-legal-information-for-product-reviews.short-after-star-rating");t.is(i.target)||0!==t.has(i.target).length||e(".german-market-legal-information-for-product-reviews.short-after-star-rating .full-text").hide()})},sepa_direct_debit_checkout_form_handle:function(){e("#german_market_sepa_use_payment_information").length&&(e(".german-market-sepa-radio-wrapper input.radio-button").length?(e("body").on("change",".german-market-sepa-radio-wrapper input.radio-button",function(){i.sepa_direct_debit_checkout_form_handler(this)}),i.sepa_direct_debit_checkout_form_handler(e(".german-market-sepa-radio-wrapper input.radio-button"))):e(".german-market-sepa-save-payment-information-checkbox").show())},sepa_direct_debit_checkout_form_handler:function(i){e(".german-market-sepa-radio-wrapper label span").css({"font-weight":"bold","margin-left":"calc( 18px + 1em )","margin-bottom":"1em",display:"inline-block"}),!0===e(i).prop("checked")&&("saved"==e(i).val()?(e(i).parents("fieldset").find(".form-row").hide(),e(".german-market-sepa-save-payment-information-checkbox").hide(),e(".gm-sepa-direct-debit-second-checkout-disabled").show()):(e(i).parents("fieldset").find(".form-row").show(),e(".german-market-sepa-save-payment-information-checkbox").show(),e(".gm-sepa-direct-debit-second-checkout-disabled").hide()),e("#gm-sepa-mandate-preview-text").slideUp())},deactivate_ship_to_different_adress(){e("body").on("update_checkout",function(){gm_hide_ship_to_different_address=!1,e("body").trigger("gm_hide_ship_to_different_address"),gm_hide_ship_to_different_address?(e("#ship-to-different-address-checkbox").prop("checked",!1),e(".shipping_address").length&&e(".shipping_address").hide(),e(".woocommerce-shipping-fields").length&&e(".woocommerce-shipping-fields").hide()):e(".woocommerce-shipping-fields").length&&e(".woocommerce-shipping-fields").show()})},deactivate_ship_to_different_address_purchase_on_account:function(){e("body").on("gm_hide_ship_to_different_address",function(){e("#deactivate_ship_to_different_address_if_purchase_on_account").length&&e("#payment_method_german_market_purchase_on_account").length&&(e("#payment_method_german_market_purchase_on_account").prop("checked")?"1"!=e("#deactivate_ship_to_different_address_if_purchase_on_account").val()&&"yes"!=e("#deactivate_ship_to_different_address_if_purchase_on_account").val()||(e("#ship-to-different-address-checkbox").length&&!0===e("#ship-to-different-address-checkbox").prop("checked")&&e(ship_different_address.before_element).length&&(e("#german-market-puchase-on-account-message").length||e(ship_different_address.before_element).before(ship_different_address.message),e("#german-market-puchase-on-account-message").show()),gm_hide_ship_to_different_address||(gm_hide_ship_to_different_address=!0)):e("#german-market-puchase-on-account-message").length&&e("#german-market-puchase-on-account-message").hide())})},second_checkout_place_order:function(){e(":submit.wgm-place-order").click(function(){e(".wgm-place-order-disabled").length&&e(".wgm-place-order-disabled").show()})},setupAjax:function(){"undefined"!=typeof wgm_wpml_ajax_language&&e.ajaxSetup({data:{lang:wgm_wpml_ajax_language}})},remove_totals:function(){1==woocommerce_remove_updated_totals.val&&e(".woocommerce_message").remove()},register_payment_update:function(){1==woocommerce_payment_update.val&&e(document.body).on("change",'input[name="payment_method"]',function(){e("body").trigger("update_checkout")})},on_update_variation:function(){if("gm_default"==german_market_price_variable_products.val){var i=e(".single-product"),t=e(".legacy-itemprop-offers");i.on("show_variation",".variations_form",function(){t.slideUp(),"none"!=german_market_price_variable_theme_extra_element.val&&jQuery(german_market_price_variable_theme_extra_element.val).slideUp()}),i.on("reset_data",".variations_form",function(){t.slideDown(),"none"!=german_market_price_variable_theme_extra_element.val&&jQuery(german_market_price_variable_theme_extra_element.val).slideDown()})}else if("gm_sepcial"==german_market_price_variable_products.val){var i=e(".single-product");i.on("show_variation",".variations_form",function(){var i='<div id="german-market-variation-price"></div>',t=jQuery(".woocommerce-variation-price.woocommerce-variation-price").html();e(".woocommerce-variation-availability").length&&(t+=e(".woocommerce-variation-availability").html()),e(".woocommerce-variation-description").length&&(t+=e(".woocommerce-variation-description").html()),jQuery(".woocommerce-variation.single_variation").hide(),jQuery(".woocommerce-variation-price").hide(),jQuery(".legacy-itemprop-offers").hide(),"none"!=german_market_price_variable_theme_extra_element.val&&jQuery(german_market_price_variable_theme_extra_element.val).hide(),jQuery(".elementor-widget-woocommerce-product-price .price").length&&jQuery(".elementor-widget-woocommerce-product-price .price").hide(),jQuery(".dtwpb-price.price").length&&(jQuery("#german-market-variation-price").length||jQuery(i).insertAfter(".dtwpb-price.price"),jQuery(".dtwpb-price.price").hide(),jQuery(".gm-wp_bakery_woocommerce_get_price_html").length&&jQuery(".gm-wp_bakery_woocommerce_get_price_html").hide()),jQuery(".et_pb_wc_price").length&&(jQuery("#german-market-variation-price").length||jQuery(i).insertAfter(".et_pb_wc_price"),jQuery(".et_pb_wc_price").hide()),jQuery("#german-market-variation-price").length?jQuery("#german-market-variation-price").show():jQuery(i).insertAfter(".legacy-itemprop-offers"),jQuery("#german-market-variation-price").html(t)}),i.on("reset_data",".variations_form",function(){jQuery(".elementor-widget-woocommerce-product-price .price").length&&jQuery(".elementor-widget-woocommerce-product-price .price").show(),jQuery(".dtwpb-price.price").length&&(jQuery(".dtwpb-price.price").show(),jQuery(".gm-wp_bakery_woocommerce_get_price_html").length&&jQuery(".gm-wp_bakery_woocommerce_get_price_html").show()),jQuery(".et_pb_wc_price").length&&jQuery(".et_pb_wc_price").show(),jQuery(".legacy-itemprop-offers").show(),jQuery("#german-market-variation-price").hide(),"none"!=german_market_price_variable_theme_extra_element.val&&jQuery(german_market_price_variable_theme_extra_element.val).show()})}},sepa_direct_debit_show_preview:function(){var i=e(".wc_payment_methods input[name=payment_method]:checked"),t=e(".german-market-sepa-radio-wrapper input.radio-button:checked");if("german_market_sepa_direct_debit"!==i.val())return!1;if("saved"==t.val())return!0;var a={holder:e('[name="german-market-sepa-holder"]').val(),iban:e('[name="german-market-sepa-iban"]').val(),bic:e('[name="german-market-sepa-bic"]').val(),street:e('[name="billing_address_1"]').val(),zip:e('[name="billing_postcode"]').val(),city:e('[name="billing_city"]').val(),country:e('[name="billing_country"]').val()},r=!0;if(jQuery("#german-market-sepa-checkout-fields").is(":visible")){for(key in a)if(!(("bic"==key||"iban"==key||"holder"==key)&&e('[name="german-market-sepa-'+key+'"]').hasClass("gm-required-no"))&&void 0!==a[key]&&""==a[key].trim()){r=!1;break}}else r=!1;return r},sepa_direct_debit_show_preview_do:function(){i.sepa_direct_debit_show_preview()?(e(".gm-sepa-direct-debit-second-checkout-disabled").show(),e(".gm-sepa-direct-debit-order-pay").show()):(e(".gm-sepa-direct-debit-second-checkout-disabled").hide(),e(".gm-sepa-direct-debit-order-pay").hide(),e("#gm-sepa-mandate-preview-text").slideUp())},sepa_direct_debit:function(){e(document.body).on("click","#gm-sepa-mandate-preview-store",function(i){i.preventDefault(),e("#gm-sepa-mandate-preview-text").show()}),e(document.body).on("click","#gm-sepa-mandate-preview",function(i){i.preventDefault();var t=!1;e("#german_market_sepa_use_payment_information").length&&(t=e("#german_market_sepa_use_payment_information").is(":checked"));var a={action:"gm_sepa_direct_debit_mandate_preview",holder:e('[name="german-market-sepa-holder"]').val(),iban:e('[name="german-market-sepa-iban"]').val(),bic:e('[name="german-market-sepa-bic"]').val(),street:e('[name="billing_address_1"]').val(),zip:e('[name="billing_postcode"]').val(),city:e('[name="billing_city"]').val(),country:e('[name="billing_country"]').val(),nonce:sepa_ajax_object.nonce,saved_data:t};jQuery.post(sepa_ajax_object.ajax_url,a,function(i){e("#gm-sepa-mandate-preview-text").html(i),e("#gm-sepa-mandate-preview-text").slideDown(),e("#gm-sepa-mandate-preview-text .close").click(function(){e("#gm-sepa-mandate-preview-text").slideUp()})})}),e("#gm-sepa-mandate-preview").ready(function(){if(e("#gm-sepa-mandate-preview").length){i.sepa_direct_debit_show_preview_do();var t={0:'[name="german-market-sepa-holder"]',1:'[name="german-market-sepa-iban"]',2:'[name="german-market-sepa-bic"]',3:'[name="billing_address_1"]',4:'[name="billing_postcode"]',5:'[name="billing_city"]',6:'[name="billing_country"]'};for(key in t)e(document.body).on("change keyup",t[key],i.sepa_direct_debit_show_preview_do)}}),e(document.body).on("change",'input[name="payment_method"]',function(){"german_market_sepa_direct_debit"==e(this).val()?(i.sepa_direct_debit_show_preview_do(),e(".gm-sepa-direct-debit-second-checkout-disabled").show()):e(".gm-sepa-direct-debit-second-checkout-disabled").hide()}),e(".gm-sepa-direct-debit-second-checkout-disabled").ready(function(){e("#payment_method_german_market_sepa_direct_debit").is(":checked")&&e(".gm-sepa-direct-debit-second-checkout-disabled").show()})},shipping_service_provider:function(){e("body").on("updated_checkout",function(i,t){if(e("#p-shipping-service-provider").length){var a=!0;e('select.shipping_method, input[name^="shipping_method"][type="radio"]:checked, input[name^="shipping_method"][type="hidden"]').each(function(){if(a=e(this).val().includes("local_pickup"))return!1}),a?e("#p-shipping-service-provider").hide():e("#p-shipping-service-provider").show()}})}};i.init()});